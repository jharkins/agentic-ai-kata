interactions:
- request:
    body: !!binary |
      H4sIALRue2cC/81UzW/jRBRPuqVEr19bt90tFNip6dJuad04aZoPUUEPiK0lxGrFhQNEk/E4cWOP
      jWfcbogshFjEgQsIJC4c4C/gtKeFGx9C4syBy4ozEreVODJ24mxDEy2HReCLZ96895vfe783Dz5R
      4MsJqMIip8GJTahmMy4wixemogIqYb1SKZBqxSLVvSrRsVUq7hVovlg19UqDYFDhkqAOdakIOho3
      25qDWTPETarkYMrviJbH4Coowz4Mu1SZh1nPp2xwAmuwPOx2QgNueyxG0rVCVctLl5mUaIKxAPMh
      azPvlNX7dliEaT/wCOVc82UOkys/fpqFA5hP41LQLdjE5f1GsUQtWijoVrFcqlQpIUSXxnKeUlKq
      6NX8vsxV+X0eliVsx8RM2GQH28pUQdN1TVe+zcHFd5c//+Kl9yuPv3X9/uuHbeuOknt55pcPC1C7
      q+ZW/3jhXuO7MNpa78qaMFGPaUcoCBnqSpquLw4itCnLYNqseS2frZZLF6z25MrKYbowijBLPJNq
      lu1QH4tWLEuCZZM6tuttLPBuKGyH7wae/LOm5neMzTQoZETE6V6GZeJgzm2rUxf0lqi7skISxliA
      6cTTsRllnjKx8rzhSuUSbgoBfJ121tAbXohOPbYhUIM6Nj2h6LSFBTpCxyEXqOkJ5HZQCzOTI4+t
      oSOxwZFoUeR68tgJObG9kKMbTug25F/GB8ik3G4yamrGKTyW5KMwcLqqK8k4aq2/SOql1tSmL3b2
      PDXaVvuGfjI2wXF69QRA3VZlIetcBFjQZkd6URw4HWnuYXEq4vpwtcZCx4mMpwEeXJL2I7ZrvcuM
      dYAHmimXYGnUncYeLDle07IDqrm8KWvr+o68XnkKnhwvufFZFqbPhCm3s/BedhR+EtcP+/el+HgC
      FlNax1xy4KRFXaz8mYX72a4qOn5ce69xTElcbcnLp4GwKY8F67GUK6lST4/a+RBhCyc2HPYFu7XT
      GxI7puzjvnO8TGpx7opBc4yDfU0qeHj0auL2MPAoiraHumxAfLCPIuNZWEgrwn3M6jGMMgcz/Tdb
      j43GLjyROqV2HwcxkhxBClzM/+17J/NBNpPNZJSfLoyaH/fuzP329VfW3Jn5cdUP5OsPJDJKKCOp
      MBKe53DUlS0im576B5EcIJmfF3sD5Iebq//VAJmDXMpJ7rPGi2PeyAb8s7SM0vBreQ7Wx8cNwnTj
      ldHdnAftYb2cgvSbYHVUE0zBZLwZaPn9SC1vnrRnv/Fuv6nm7q5eaS/d+HV663KPckDfDql8lGfH
      /7WPrvTUSxf/A/U2xqgnB+ZQIsYzwyqdO39kcjySN6k3KC0S09ovkL1yqWymOv4FE0mOPBQJAAA=
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '1025'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b882cacf7cb-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 05:48:36 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=wFWadg3sOpYeL0QRgU97VNFTFc5MmjieyIExiBQ1jkZUZahMj0l2ngv%2BYoJiPID35weHT3LSilWGgpe2Xr9AYTLUdLCRTAOWo8l%2FOh%2BCEf6LHwDyxyia%2BZxdKD1sfOayuSO3p9bI9tHcKw%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=14003&min_rtt=13955&rtt_var=5329&sent=5&recv=7&lost=0&retrans=0&sent_bytes=2839&recv_bytes=1968&delivery_rate=286172&cwnd=237&unsent_bytes=0&cid=9f27dcd1c6c7c741&ts=243&x=0"
      traceparent:
      - 00-86c38a298b0270abfbf34d66977955ea-d3b080ecb9192e0e-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Hey!
      You won''t believe what I just got my hands on! It''s the most luscious Plumbus
      ever designed."}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1863'
      content-type:
      - application/json
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-AmaGarMjdryjBOOL73D1RV5SZg9c2\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736142516,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_ttBKKbngIoHFHKNPe9NvwMaL\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"General chat\\\",\\\"confidence\\\":0.95,\\\"handler\\\":\\\"conversation\\\",\\\"reasoning\\\":\\\"The
        message expresses excitement about acquiring a Plumbus, which is a fictional
        object from the TV show 'Rick and Morty'. This seems to be casual communication
        or sharing of excitement, fitting under general chat.\\\"}\"\n            }\n
        \         }\n        ],\n        \"refusal\": null\n      },\n      \"logprobs\":
        null,\n      \"finish_reason\": \"tool_calls\"\n    }\n  ],\n  \"usage\":
        {\n    \"prompt_tokens\": 320,\n    \"completion_tokens\": 71,\n    \"total_tokens\":
        391,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\": 0,\n      \"audio_tokens\":
        0\n    },\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\":
        0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n
        \     \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b85ff8d530b-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 05:48:37 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=LuzpNH4aBC6oaqUrwSGn0_MSlxY_t74xfHrywGOXN.0-1736142517-1.0.1.1-ZxzDg4L1HA.j1VqfibXcHWuUb2CLL27fAWb7A3QJ4BBWbNKIbjnyFu_rLvmbnzFPaVwoWFEh70yk5irV7t0j5Q;
        path=/; expires=Mon, 06-Jan-25 06:18:37 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=XJlCyPQxJfF4Ha54d0.jUQKioq6reo44oP8nf5trTkA-1736142517422-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1319'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '1139'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29730'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 540ms
      x-request-id:
      - req_2ea4490f78a1098d039f54bb664816c8
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      H4sIALVue2cC/5VUz28bRRSOmxCiSdKQTQORItFhJZTS2ttdO068FkgEJAhOU0WV4UJgNZ6dtafe
      ndnuzCYxkcUB9VKOCHHhwH/ACS5ckTghcQAh9cJ/ACcuSEi8WccmoWoBXzz73vd97837Meiny+iL
      S8hHK4plR5wyhwuliTCH0LIRrhOv0ahSvxFRf9OnHonqtc0qc2t+6DU6lCAbPatZzBKms4Gjwr4T
      E9HNSZdZc2g2HeieFOhFZF3ECJIwawktypSJiQe9gFYvwo5YprgURslzqr7jAmRhnGihsYyWctEX
      8lgEZ3a0gubTTFKmlJPCHWbWvvukhF5BS2PeWPQ6uka2tzq1OotYtepFte16w2eUUg+M2y5jtN7w
      fHcL7mp9uYBWQXYQEqE5rRBuzVYdz3M869MF9MyHq599/upHjaff3/29vdOPvrLmvlm/2r9y8HDe
      nlv/9eVfOt/mw+uLiQxZjDN2L2dKuyX/pY+vRv2ZtbWd+w8WvzaHVg0tUgA5EY9ZSnTP1B8KaUIG
      hAd9osnNXPNY3cwk/Iuukw5a18akXFBt7vUcWqUxUYpHg0CzEx0kUAqQaS2j+QIZc8GEtC6t3Whd
      RnNZDqXTLIXvUmsDXYllN+IZcxLVBXqSxkQXrbqQfut5NH8O+Kh/HS2P/SolItCDlFmzaMZ8tB7M
      QFimUikUs/6cRn9Mn9opybSym++e2lrKODDNtZt2xAWJA8DmsbbLNsm6gDkt/oO7SgqAnB7aFFLs
      ymxwaDcP7TeZYBmJMe0RfWiXwStFxEMGIw1+1/HrYOsREcYsKwjgNyNBTPEKQsYISEN5C3e7x/BZ
      BTE7SSEXxRScKIfqQG8w6UAzMKH3cp4BCRN8EOdJJ1dlfNzjtIe5AlvEi+5AYrJzl1GNo0wmWIN4
      +x2sevIYb9zhtI8hMbwvMz3YcHC7B1TFWKKwlrjDMCUqN1eTSZILTouUscyAT4rQMjqXWBliajMl
      OBchy3D3XGGcQ3toD8ujWlMSxwEPoZbFSevX9vY6ovuW3H1jd+/2AfNvHx3vk1tQf9OkoM+FwRpq
      xRDs4XsgxKFGmiQpeKputV5xvYq71Xbrzc1Gs7Z1w3WbrgsKZ+Rx9+1h62EJPZWb6lo/lND3pVP7
      bISg0W55/BFo2WcCTLVqYRyxJ9Ztz1xFw6hMcD6YQqYJbEsxMZSyVLMwgAaGo1ZMsKBI8pDL84bJ
      DFw0ms49VoQS2gPnxDIctn6bRivjPTDzGiiAJMT6eRr9CENvtgKqMZoIU98MHsRMc1bkPN5MOA//
      vrTx/JOnuY6NYd/s4J0xsGyfVEYPcCWEp+OMZI7F+/BIvLMVnMiTLCMDQJl5Uk8K24ZReB0m4QAE
      /nfU8U4/TnwH/C2z6v8mPITfhUGcaCpttgMEIpklRI9YrGKgdkEq5u9JSbxdAP5DBh9M3S9Nlaam
      /gLFJK0bWAcAAA==
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '1093'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b8e8af07c79-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 05:48:37 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=hnUzv3jnDjWGYtcSjz%2Bo7aqxSH0M8GVlog%2Bek1Yha6vn8RMrsGsRwVj6Ub0yEmdotzwAdz0uS7oEXq2DcTHTGq0CGVpD5nx08EU8eoD9BNyj%2BXW%2BRoTuHsChaRTGCZtJ7BaqQyC09H%2BBzA%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=20033&min_rtt=19978&rtt_var=5715&sent=5&recv=8&lost=0&retrans=0&sent_bytes=2839&recv_bytes=2036&delivery_rate=202987&cwnd=235&unsent_bytes=0&cid=aa693bfa8ec2e3fe&ts=116&x=0"
      traceparent:
      - 00-6d4d240be3482a131d04cd15034811e9-b7f9317258aa1b72-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      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
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '2429'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b919ab0f7c9-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 05:48:38 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=Hj4FEG4MLdNYxGdag5sV4IPNPLDyHzrIbQTEvHlCRefAwF72UNlmJFERzcbvP3NFictJYzx3rmpgcyEZBXIHtPVB4szdXIM7%2FXdNimKT7cRmy%2BGbzY3TRCus%2FmU%2Fq3dbT8InRwN2McU8ZQ%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=19215&min_rtt=19172&rtt_var=7275&sent=5&recv=8&lost=0&retrans=0&sent_bytes=2840&recv_bytes=3372&delivery_rate=210288&cwnd=248&unsent_bytes=0&cid=79a913258353e8eb&ts=252&x=0"
      traceparent:
      - 00-4fd4c9baa48a94dc33dcac38bf0b93bc-906ecf1c7b8f2928-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Greetings,
      noble knight! Who sends this mysterious scroll over the ether?"}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1839'
      content-type:
      - application/json
      cookie:
      - __cf_bm=LuzpNH4aBC6oaqUrwSGn0_MSlxY_t74xfHrywGOXN.0-1736142517-1.0.1.1-ZxzDg4L1HA.j1VqfibXcHWuUb2CLL27fAWb7A3QJ4BBWbNKIbjnyFu_rLvmbnzFPaVwoWFEh70yk5irV7t0j5Q;
        _cfuvid=XJlCyPQxJfF4Ha54d0.jUQKioq6reo44oP8nf5trTkA-1736142517422-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-AmaGbV43hnX9QuZlVMdCsE9K9iSnA\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736142517,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_s5RqMJQriMmKyUxZdvMp8yoE\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"identity inquiry\\\",\\\"confidence\\\":0.95,\\\"handler\\\":\\\"search_rolodex\\\",\\\"reasoning\\\":\\\"The
        message requests identification, asking 'Who sends this?' which pertains to
        discovering the sender's identity, thus fitting the category for 'search_rolodex'.\\\"}\"\n
        \           }\n          }\n        ],\n        \"refusal\": null\n      },\n
        \     \"logprobs\": null,\n      \"finish_reason\": \"tool_calls\"\n    }\n
        \ ],\n  \"usage\": {\n    \"prompt_tokens\": 312,\n    \"completion_tokens\":
        67,\n    \"total_tokens\": 379,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\":
        0,\n      \"audio_tokens\": 0\n    },\n    \"completion_tokens_details\":
        {\n      \"reasoning_tokens\": 0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\":
        0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b8e1fd6530b-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 05:48:38 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1273'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '1102'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29668'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 663ms
      x-request-id:
      - req_c8d17635b3f05fd04b29629c3c5c1194
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      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
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '2488'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b97df3e1017-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 05:48:39 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=po74LRUfNNFnuX4rp6Bv401w4BaWrRvPQeytLP%2FRP2ynal8tu7WhcLzZ12WpxaVt5KhVzspzhN8ti7S3RkGzvvQpxRXeHtH5mt9tUi39slfQGleOXzMbBpOmuR2GxY1JtMJ%2FlbKOkHF%2BkA%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=19869&min_rtt=19490&rtt_var=5818&sent=6&recv=9&lost=0&retrans=0&sent_bytes=2839&recv_bytes=3431&delivery_rate=210461&cwnd=216&unsent_bytes=0&cid=9536a5983457afc0&ts=247&x=0"
      traceparent:
      - 00-dfd8b6168659782f9805ddcc14b02dad-9d797ae9ad19c7d4-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Ahoy,
      young squire! I require the report on squanchberries, posthaste! Make sure it
      sails through the digital seas to my inbox!"}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1893'
      content-type:
      - application/json
      cookie:
      - __cf_bm=LuzpNH4aBC6oaqUrwSGn0_MSlxY_t74xfHrywGOXN.0-1736142517-1.0.1.1-ZxzDg4L1HA.j1VqfibXcHWuUb2CLL27fAWb7A3QJ4BBWbNKIbjnyFu_rLvmbnzFPaVwoWFEh70yk5irV7t0j5Q;
        _cfuvid=XJlCyPQxJfF4Ha54d0.jUQKioq6reo44oP8nf5trTkA-1736142517422-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-AmaGc1jhX8AclobUSEb3LfnkxpW63\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736142518,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_HmC3by715l9Zx4xX8aRBU2js\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"Report request\\\",\\\"confidence\\\":0.95,\\\"handler\\\":\\\"generate_and_email_report\\\",\\\"reasoning\\\":\\\"The
        user is explicitly requesting a report on 'squanchberries' to be sent to their
        inbox. This clearly indicates a need for generating and emailing a report,
        aligning perfectly with the generate_and_email_report handler.\\\"}\"\n            }\n
        \         }\n        ],\n        \"refusal\": null\n      },\n      \"logprobs\":
        null,\n      \"finish_reason\": \"tool_calls\"\n    }\n  ],\n  \"usage\":
        {\n    \"prompt_tokens\": 330,\n    \"completion_tokens\": 76,\n    \"total_tokens\":
        406,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\": 0,\n      \"audio_tokens\":
        0\n    },\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\":
        0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n
        \     \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b95af86530b-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 05:48:39 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1340'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '965'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29654'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 690ms
      x-request-id:
      - req_1ec5cbff8fd0260f4c801ce1d3bd6cc8
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      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
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '2506'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b9e0ae72ec6-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 05:48:40 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=VvvHfkuFLAOL0v67I0N4yTS4vX5YoC3voZXeKhtEawJrrkphLIq%2Bb6fthWpXRFxdMyA682XRXH3hYmMptVqxj9mU2pM%2BsrhGpPzAqMjmcIU8GOSY0tNUPs3vrcF%2FuqN%2F9E3ygnbX0RhCDw%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=15292&min_rtt=15007&rtt_var=6199&sent=6&recv=8&lost=0&retrans=0&sent_bytes=2839&recv_bytes=3449&delivery_rate=237307&cwnd=243&unsent_bytes=0&cid=ce9b9d8efa67661f&ts=254&x=0"
      traceparent:
      - 00-b8191ee034cdb0b2e1a3d484dbbc2224-3a13f8708fe1127c-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Could
      you look up Zygoplexian Plague?"}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1803'
      content-type:
      - application/json
      cookie:
      - __cf_bm=LuzpNH4aBC6oaqUrwSGn0_MSlxY_t74xfHrywGOXN.0-1736142517-1.0.1.1-ZxzDg4L1HA.j1VqfibXcHWuUb2CLL27fAWb7A3QJ4BBWbNKIbjnyFu_rLvmbnzFPaVwoWFEh70yk5irV7t0j5Q;
        _cfuvid=XJlCyPQxJfF4Ha54d0.jUQKioq6reo44oP8nf5trTkA-1736142517422-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-AmaGdQkRCudZgFCGIJ2Sf1OZ56HRy\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736142519,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_EBp5fn5HCX59jyovlSq2ypVv\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"General Information Lookup\\\",\\\"confidence\\\":0.9,\\\"handler\\\":\\\"search_wikipedia\\\",\\\"reasoning\\\":\\\"The
        user is requesting information about a specific topic, the 'Zygoplexian Plague',
        which suggests a need for general knowledge or research about this subject.\\\"}\"\n
        \           }\n          }\n        ],\n        \"refusal\": null\n      },\n
        \     \"logprobs\": null,\n      \"finish_reason\": \"tool_calls\"\n    }\n
        \ ],\n  \"usage\": {\n    \"prompt_tokens\": 310,\n    \"completion_tokens\":
        66,\n    \"total_tokens\": 376,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\":
        0,\n      \"audio_tokens\": 0\n    },\n    \"completion_tokens_details\":
        {\n      \"reasoning_tokens\": 0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\":
        0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd96b9c8eb6530b-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 05:48:40 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1282'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '892'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29660'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 678ms
      x-request-id:
      - req_1659c2c50531b6131383f5c3eeb12717
    status:
      code: 200
      message: OK
version: 1
