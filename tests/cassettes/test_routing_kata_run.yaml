interactions:
- request:
    body: !!binary |
      H4sIAMl0e2cC/81UTWgkRRTOxN0wvGySTWezm+gqlTZrYkw6PZPJ/GmQnNY0iCt4EQ9tTXfNTCXd
      1W1XdSbtMAdlBY8qij8nQRAWT55EQdmLh8X7omcFWYIIwoKLHqzumZ7NmAnrYUX70vXz3lffe997
      D95W4ONRqMAMJ8E+tYhGGReYxQtbUQHlyzquFfXyZi6/UdBLerlWt3LFYiFfLpUtbNVBhfOCOMQl
      Iog0bu9pDmaNEDeIkoUxPxJNj8ElUAZtGHaJMgUTnk9Y/wYWYHbQbJ8EnHosRspp+YqmS5MzKdEE
      YxqmQrbHvBYze+cwA+N+4FmEc82XMZyau/NNBrZgKvVLQVdguawXiV4necsqFQjG5XI9b9VqG3qp
      ULExKZVIsVjTSa6gHE7BrISNbMwEtdYwVcbyWi6n5ZSvs3B257fRP1+YuHXwc+uz73/844f3lOyV
      8cu/XJuc/0LNfn7jZfTh9YOXVhbbMidMmDHtDgpChtqSpuuLrQ5almmwKWs8rmcq76Cf5m+enpvb
      ThfGBkxYnk20OnWIj0UzliXBopaJqbmHBV4PBXX4euDJP2tofmQsp04hs0Qc7gWYtRzMOa1HpiAH
      wnRlhiSMMQ3jiaVDGWGeMjr3hOFK5RJuigX4GRItoBe9ELU8tiRQjTiU7BPUamKBdtBuyAVqeAK5
      EWpiZnPksQW0I5Y4Ek2CXE9eOyG3qBdydMUJ3Zr8S/8A2YTTBiO2ZrTgdBKPwsBpq64k46jV3iLJ
      l1pVG75YK3hqZ1XtHfSCoRaOwzMTAHVVlYk0uQiwII1IWhEcOJE87mJxIuL8cLXKQsfpGA8D3H0k
      rUdMq93HjEWAu5op5+HcsDeNApxzvEadBkRzeUPm1vUd+bxyER48WXLj3QyMH3FTrmbgtcww/MSv
      5/bvS/HWKMyktHa55MCtJnGx8nsGbmfaqoj8OPdebZdYcbYlL58EghIeC9ZlKVdSpa4e1eMuggon
      PtjuCXaw1h0Sa7as455xvExyceyJfnGcBPucVHB759nE7F7gnU5ndaDK+sT7+07HeBSm04xwHzMz
      hlEm4UyvZ8340FiH+dQoPfdxECPJEaTAWf1v36sjb2RGMiMjyo0Hhs2Pjw6vfvD6J5NPHZkfl/xA
      dn8gkVFCGUmFkfA8h6O2LBFZ9MTf6sgB8vynv3YHSOn92//VAJmEbMpJ7jPG0yf0yBL8s7CMzcFu
      eQwWT/bru+WMy8OrWQftXrWcgvSK4KFhRTAGp+JNX8tvh2p5eOvJslMyv1SzF9/86trMdzd3Vy50
      KQfklZDIpjw6/knlTle9dPE/UG/pBPXkwBwIxHhkUKVj9/dNjvvSk7WcVSnqeb1SsfRSebOW6vgX
      RobZ5xQJAAA=
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '1034'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd99190d8e82ac4-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 06:14:34 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=MLGNlHhUXGdFo1CMfbiwL6yFPjd5XmsYGpUwdeAxaUOEK9r3nWvIhVswsXDrgJ7iDy0aXHbCKMrPKBHrf4ggYQdMDzylEKpPbLDU%2Byu1T2xzNSHJV0%2BJZQkl7eT%2B9OKrqYyQseEt9ocbbg%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=19917&min_rtt=19735&rtt_var=5710&sent=5&recv=8&lost=0&retrans=0&sent_bytes=2840&recv_bytes=1977&delivery_rate=207839&cwnd=237&unsent_bytes=0&cid=c8c6f8f744c2aa1b&ts=237&x=0"
      traceparent:
      - 00-5797734ce39b302e1e5de467c1bea494-ccef9ab5b108ccc2-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Hey!
      You won''t believe what I just got my hands on! It''s the most luscious Plumbus
      ever designed."}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1863'
      content-type:
      - application/json
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-AmafimPLax38Nl8IjGsfcGLrY9MBN\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736144074,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_uLtL7LxTNFP6CoNgxHz4QL6Q\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"Conversation\\\",\\\"confidence\\\":0.9,\\\"handler\\\":\\\"conversation\\\",\\\"reasoning\\\":\\\"The
        message seems to be part of a casual conversation, sharing excitement about
        acquiring a 'Plumbus,' which is a fictional device from the TV show 'Rick
        and Morty.' The context indicates a friendly exchange rather than a request
        for information, report generation, or data management.\\\"}\"\n            }\n
        \         }\n        ],\n        \"refusal\": null\n      },\n      \"logprobs\":
        null,\n      \"finish_reason\": \"tool_calls\"\n    }\n  ],\n  \"usage\":
        {\n    \"prompt_tokens\": 320,\n    \"completion_tokens\": 84,\n    \"total_tokens\":
        404,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\": 0,\n      \"audio_tokens\":
        0\n    },\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\":
        0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n
        \     \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd9918e6bdc6a07-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 06:14:35 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=rILK6EwkhiOdoxhEhzVxymfKkvuPBEPvHF3gCLu3VNY-1736144075-1.0.1.1-g5PV52OCkaiCKMLPtuO8F5_tTwm276ME.i9LfZXmbDCVJ_C8BzenOxeJcmSbBX1hDIoMLcnh4cZQq4v.r65GHA;
        path=/; expires=Mon, 06-Jan-25 06:44:35 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=8DQ5INrgQdva2HHIpaNUxdXpkNNFajIGY3T9bsgsZ7I-1736144075236-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1389'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '1143'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29730'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 540ms
      x-request-id:
      - req_4a5af7c25456ae622402462a40ae52dd
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      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
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '2565'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd991970ac02b9d-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 06:14:35 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=44Nph%2BAi%2B1p1dhGsP9EJtwelUR1uamtRdwKvLshGaBHfYXHDsvYNV5If81t7lBqj2psCewmgsW1vTGgrFEytGioOBZNgncEVCqoLkSCsmwb52z46JR8s8DBZzHzm0aadZpLokLnTIg4SPQ%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=14996&min_rtt=14963&rtt_var=4267&sent=6&recv=9&lost=0&retrans=0&sent_bytes=2838&recv_bytes=3508&delivery_rate=271518&cwnd=234&unsent_bytes=0&cid=203c825bf5815048&ts=225&x=0"
      traceparent:
      - 00-393588bf06e0afdca5e40ba5ca3308c3-54a930cfead88d5c-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Greetings,
      noble knight! Who sends this mysterious scroll over the ether?"}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1839'
      content-type:
      - application/json
      cookie:
      - __cf_bm=rILK6EwkhiOdoxhEhzVxymfKkvuPBEPvHF3gCLu3VNY-1736144075-1.0.1.1-g5PV52OCkaiCKMLPtuO8F5_tTwm276ME.i9LfZXmbDCVJ_C8BzenOxeJcmSbBX1hDIoMLcnh4cZQq4v.r65GHA;
        _cfuvid=8DQ5INrgQdva2HHIpaNUxdXpkNNFajIGY3T9bsgsZ7I-1736144075236-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-Amafj9vTP2Nm55PenAQvAcrqHFJQ5\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736144075,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_BJl5LMv2CL4YELW1sbvq5quT\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"rolodex query\\\",\\\"confidence\\\":0.95,\\\"handler\\\":\\\"search_rolodex\\\",\\\"reasoning\\\":\\\"The
        message is a poetic way of asking for the identity of the sender. The key
        phrase 'Who sends' indicates a question about who the sender is, which aligns
        with identifying someone or seeking contact information.\\\"}\"\n            }\n
        \         }\n        ],\n        \"refusal\": null\n      },\n      \"logprobs\":
        null,\n      \"finish_reason\": \"tool_calls\"\n    }\n  ],\n  \"usage\":
        {\n    \"prompt_tokens\": 312,\n    \"completion_tokens\": 77,\n    \"total_tokens\":
        389,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\": 0,\n      \"audio_tokens\":
        0\n    },\n    \"completion_tokens_details\": {\n      \"reasoning_tokens\":
        0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\": 0,\n
        \     \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd991965b836a07-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 06:14:36 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1320'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '1410'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29651'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 697ms
      x-request-id:
      - req_9e5cd10dcc6f1ee0a7043f8fb2cd5607
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      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
      y9bUiUKhQEI//geV8vJH7iIAAA==
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '2527'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd991a07848e9e0-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 06:14:36 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=3uusDAdctz41gA%2BEeT3ms0gBa19wuEOMl%2FmX1efBz44B7uhTlVxnmOH3htXigrMkE%2FK6nltDHWOduGb1OePYupDCyGpcXw8L00tNv3oNNIogv4Hi66JDD2ZxjOtSryYLOUo6E4cdDkvGZQ%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=19887&min_rtt=19517&rtt_var=5818&sent=6&recv=9&lost=0&retrans=0&sent_bytes=2839&recv_bytes=3470&delivery_rate=210202&cwnd=219&unsent_bytes=0&cid=e6ac116f47e38b30&ts=114&x=0"
      traceparent:
      - 00-34a4e0003c759dca16b5f959d31b4556-f1117c17059c3c44-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Ahoy,
      young squire! I require the report on squanchberries, posthaste! Make sure it
      sails through the digital seas to my inbox!"}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1893'
      content-type:
      - application/json
      cookie:
      - __cf_bm=rILK6EwkhiOdoxhEhzVxymfKkvuPBEPvHF3gCLu3VNY-1736144075-1.0.1.1-g5PV52OCkaiCKMLPtuO8F5_tTwm276ME.i9LfZXmbDCVJ_C8BzenOxeJcmSbBX1hDIoMLcnh4cZQq4v.r65GHA;
        _cfuvid=8DQ5INrgQdva2HHIpaNUxdXpkNNFajIGY3T9bsgsZ7I-1736144075236-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-AmafknX0Q2Ow9Fn4TNVe16x4GxX5k\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736144076,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_9fY7zZ1ldTmAgibO9RWIODNw\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"Request for report\\\",\\\"confidence\\\":0.9,\\\"handler\\\":\\\"generate_and_email_report\\\",\\\"reasoning\\\":\\\"The
        message uses playful language but clearly requests a report to be sent to
        the user's email. The mention of 'squanchberries' indicates a specific topic
        for the report, aligning with the task of generating and emailing a report.\\\"}\"\n
        \           }\n          }\n        ],\n        \"refusal\": null\n      },\n
        \     \"logprobs\": null,\n      \"finish_reason\": \"tool_calls\"\n    }\n
        \ ],\n  \"usage\": {\n    \"prompt_tokens\": 330,\n    \"completion_tokens\":
        80,\n    \"total_tokens\": 410,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\":
        0,\n      \"audio_tokens\": 0\n    },\n    \"completion_tokens_details\":
        {\n      \"reasoning_tokens\": 0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\":
        0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd9919fdc9d6a07-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 06:14:38 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1353'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '1374'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29648'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 702ms
      x-request-id:
      - req_6e1cc2ce2af257f9ee00e3a100b788c7
    status:
      code: 200
      message: OK
- request:
    body: !!binary |
      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
      CsVaMZvPTsZ+/DeXQ2y4PyMAAA==
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '2527'
      Content-Type:
      - application/x-protobuf
      User-Agent:
      - logfire/2.11.1
      authorization:
      - DUMMY
    method: POST
    uri: https://logfire-api.pydantic.dev/v1/traces
  response:
    body:
      string: ''
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd991a9dd187ba3-LAX
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Mon, 06 Jan 2025 06:14:38 GMT
      NEL:
      - '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}'
      Report-To:
      - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=7no9uDheNE4vaSheQoDU67jElKz%2BHYg6ceveBlYjAYoYbU99JlK4nZ9w87YSlF80Es8ZcFq0fpOVqb2ns9L3pIFafuYh7%2Bb%2BZBTT0dWBpBmh%2BjAoLrB3ZHMdEJRaDcVcfhVRH7kwZXqw%2BQ%3D%3D"}],"group":"cf-nel","max_age":604800}'
      Server:
      - cloudflare
      server-timing:
      - cfL4;desc="?proto=TCP&rtt=19114&min_rtt=18966&rtt_var=5592&sent=6&recv=9&lost=0&retrans=0&sent_bytes=2840&recv_bytes=3470&delivery_rate=209334&cwnd=240&unsent_bytes=0&cid=030eaa0db40f65f7&ts=235&x=0"
      traceparent:
      - 00-3ea14fecc6a4ba147d856abaf9b39e75-93cb5622b4f97a71-00
      tracestate:
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert text message
      classifier and routing assistant. You are given a text message and you need
      to classify it into a category. You should also return the handler that should
      process this message. Here is a list of potential tools that can be used as
      handlers: search_wikipedia,search_rolodex,add_to_rolodex,generate_and_email_report,conversation,summarize_webpage\n\nGuidelines
      for classification:\n1. Use search_rolodex when someone is trying to identify
      who someone is, asking ''who is this?'', or needs contact information\n2. Use
      search_wikipedia for general information lookups or research queries\n3. Use
      generate_and_email_report for requests to create and send reports\n4. Use add_to_rolodex
      when someone is providing their contact information\n5. Use conversation for
      general chat that doesn''t fit the above categories\n6. Use summarize_webpage
      when someone shares a URL or asks about webpage content"},{"role":"user","content":"Could
      you look up Zygoplexian Plague?"}],"model":"gpt-4o","n":1,"parallel_tool_calls":true,"stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"A
      classification of a text message","parameters":{"properties":{"category":{"description":"The
      category this input was classified as","title":"Category","type":"string"},"confidence":{"description":"Confidence
      score for this classification","title":"Confidence","type":"number"},"handler":{"description":"The
      handler that should process this input","title":"Handler","type":"string"},"reasoning":{"description":"The
      reasoning behind the classification","title":"Reasoning","type":"string"}},"required":["category","confidence","handler","reasoning"],"title":"TextMessageClassification","type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - DUMMY
      connection:
      - keep-alive
      content-length:
      - '1803'
      content-type:
      - application/json
      cookie:
      - __cf_bm=rILK6EwkhiOdoxhEhzVxymfKkvuPBEPvHF3gCLu3VNY-1736144075-1.0.1.1-g5PV52OCkaiCKMLPtuO8F5_tTwm276ME.i9LfZXmbDCVJ_C8BzenOxeJcmSbBX1hDIoMLcnh4cZQq4v.r65GHA;
        _cfuvid=8DQ5INrgQdva2HHIpaNUxdXpkNNFajIGY3T9bsgsZ7I-1736144075236-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.59.3
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.59.3
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.0rc1
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: "{\n  \"id\": \"chatcmpl-Amafm0puEZGqZ3T9S7lJYLgwWyF3C\",\n  \"object\":
        \"chat.completion\",\n  \"created\": 1736144078,\n  \"model\": \"gpt-4o-2024-08-06\",\n
        \ \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\":
        \"assistant\",\n        \"content\": null,\n        \"tool_calls\": [\n          {\n
        \           \"id\": \"call_WINkkqRHMyW1CtxHG2PHikpP\",\n            \"type\":
        \"function\",\n            \"function\": {\n              \"name\": \"final_result\",\n
        \             \"arguments\": \"{\\\"category\\\":\\\"general information lookup\\\",\\\"confidence\\\":0.95,\\\"handler\\\":\\\"search_wikipedia\\\",\\\"reasoning\\\":\\\"The
        request is for information on a specific topic, which is best handled by using
        a resource that provides general information about various subjects, such
        as Wikipedia.\\\"}\"\n            }\n          }\n        ],\n        \"refusal\":
        null\n      },\n      \"logprobs\": null,\n      \"finish_reason\": \"tool_calls\"\n
        \   }\n  ],\n  \"usage\": {\n    \"prompt_tokens\": 310,\n    \"completion_tokens\":
        63,\n    \"total_tokens\": 373,\n    \"prompt_tokens_details\": {\n      \"cached_tokens\":
        0,\n      \"audio_tokens\": 0\n    },\n    \"completion_tokens_details\":
        {\n      \"reasoning_tokens\": 0,\n      \"audio_tokens\": 0,\n      \"accepted_prediction_tokens\":
        0,\n      \"rejected_prediction_tokens\": 0\n    }\n  },\n  \"system_fingerprint\":
        \"fp_5f20662549\"\n}\n"
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8fd991a93ec86a07-SLC
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 06 Jan 2025 06:14:39 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      content-length:
      - '1293'
      openai-organization:
      - bitstorm-technologies
      openai-processing-ms:
      - '1143'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '500'
      x-ratelimit-limit-tokens:
      - '30000'
      x-ratelimit-remaining-requests:
      - '499'
      x-ratelimit-remaining-tokens:
      - '29658'
      x-ratelimit-reset-requests:
      - 120ms
      x-ratelimit-reset-tokens:
      - 683ms
      x-request-id:
      - req_4056bb153458c0227afd444023a59602
    status:
      code: 200
      message: OK
version: 1
